<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../../../../template/ApsTemplate.xhtml"
                xmlns:me="http://xmlns.jcp.org/jsf/composite/ezcomp/menu"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ez="http://xmlns.jcp.org/jsf/composite/ezcomp"
                xmlns:ta="http://xmlns.jcp.org/jsf/composite/ezcomp/table">

    <ui:define name="content">
        <me:CCScheduleFlightMenu activeIndex="0"/>
        <h:form id="form"> 
            <p:ribbon id="unscheduledFlightFilter">
                <p:tab title="Filter and find unscheduled flight to schedule">
                    <p:ribbonGroup label="Select departure airport">
                        <p:selectOneMenu id="deptAirport"  value="#{flightScheduleManager.selectedAirport}" converter="airportConverter" panelStyle="width:180px"
                                         effect="fade" var="deptAirport" style="width:160px" filter="true" filterMatchMode="startsWith">
                            <f:selectItem itemLabel="Select departure " itemValue="" />
                            <f:selectItems value="#{flightScheduleManager.deptAirports}" var="deptAirport" itemLabel="#{deptAirport.airportName}" itemValue="#{deptAirport}" />
                            <p:column>
                                <h:outputText value="#{deptAirport.airportName}" />
                            </p:column>
                        </p:selectOneMenu>
                    </p:ribbonGroup>

                    <p:ribbonGroup label="Select aircraft family" style="width:175px">
                        <p:selectOneMenu id="aircraftFamily"  value="#{flightScheduleManager.selectedAircraftTypeFamily}" panelStyle="width:180px"
                                         effect="fade" style="width:160px" filter="true" filterMatchMode="startsWith">
                            <p:ajax update="aircraftModels" listener="#{flightScheduleManager.onAircraftTypeFamilyChange()}" />
                            <f:selectItem itemLabel="Select aircraft family" itemValue="" />
                            <f:selectItems value="#{flightScheduleManager.aircraftTypeFamilys}"/>
                        </p:selectOneMenu>                        
                    </p:ribbonGroup>

                    <p:ribbonGroup label="Select aircraft models" style="width:188px">
                        <p:selectCheckboxMenu id="aircraftModels" label="Select aircraft models" value="#{flightScheduleManager.selectedAircraftTypes}"
                                              filter="true" filterMatchMode="startsWith" panelStyle="width:250px">
                            <f:selectItems value="#{flightScheduleManager.aircraftTypes}"/>
                        </p:selectCheckboxMenu>
                    </p:ribbonGroup>

                    <p:ribbonGroup label="Actions">
                        <p:panelGrid columns="1" style="background-color: transparent; border: inherit;">
                            <!--<p:commandButton value="Apply" update=":form:unscheduledFlight" actionListener="{flightScheduleManager.applyFilters()}" icon="fa fa-check-square-o" styleClass="filterBtn"/>-->
                            <!--<p:commandButton value="Reset" update="unscheduledFlightFilter,:form:unscheduleFlight" actionListener="{flightScheduleManager.resetFilters()}" icon="fa fa-refresh" styleClass="filterBtn"/>-->
                        </p:panelGrid>
                    </p:ribbonGroup>
                </p:tab>
            </p:ribbon>
            
            
            <p:panelGrid style="width:100%">
                <ez:CCFlightTile aircraft="MA865" deptAirport="AABS" deptAirportName="Singapore Airport" arriveAirport="DDSS" arriveAirportName="China Airport" flyingHours="6.9" index="1" />
            </p:panelGrid>
            
            <!--<ta:CCUnscheduledFlightTable />-->

        </h:form>

        <p:separator/>
        <h:form>
            <p:panelGrid>
                <p:row style="border: transparent">
                    <p:column style="width:76%"></p:column>
                    <p:column style="text-align: right">
                        <p:commandButton value="Continue" icon="fa fa-arrow-right" action="#{navigationController.toScheduleFlight()}"/>
                        <p:commandButton value="Save &amp; Exit" icon="fa fa-floppy-o"/>
                    </p:column>
                </p:row>
            </p:panelGrid>
        </h:form>
    </ui:define>

</ui:composition>
